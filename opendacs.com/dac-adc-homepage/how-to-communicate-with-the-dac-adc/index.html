

<!doctype html>
<html lang="en-US">

<head>

<title>How to Communicate with the DAC-ADC | openDACs</title>
	
	

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="../../wp-content/themes/mimbolove/style.css" />
<link rel="pingback" href="http://opendacs.com/xmlrpc.php" />

<link rel="alternate" type="application/rss+xml" title="openDACs &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="openDACs &raquo; Comments Feed" href="../../comments/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/opendacs.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.9"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='easy_table_style-css'  href='../../wp-content/plugins/easy-table/themes/default/style-ver=1.5.2.css' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-ver=1.11.2.js'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min-ver=1.2.1.js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php-rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.2.9" />
<link rel='canonical' href='index.html' />
<link rel='shortlink' href='index.html' />
<style type='text/css'>img#wpstats{display:none}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e2e2e2; }
</style>

</head>
<body class="page page-id-287 page-child parent-pageid-258 page-template-default custom-background">
<div id="mimba">
<div id="header" class="group">
	<div id="header-search-form" class="group">
			
<form method="get" class="searchform"  action="http://opendacs.com/" title="Type text to search for, and hit enter">
		<input type="text" class="field search-submit" name="s" id="s" autocomplete="off" placeholder="Search" title="Type text to search for, and hit enter"/>
</form>
	</div> <!-- close of id=header-search-form -->
	
	
	<div id="blog-title-wrap" class="group">
		<h1 id="blog-title"> 	
			<a href="../../index.html">
				openDACs	
			</a>	
		</h1>	
		<div id="blog-desc">
					</div>	<!-- close of id="blog-desc" -->	
	</div>	 <!-- close of id="blog-title-wrap"  -->
	
			
			<a href="../../index.html">
				<img id="header-img" src="../../wp-content/uploads/2014/09/Seekat_Header_small.jpg" height="88" width="956" alt="" />	
			</a>		
			
	<!-- A scroll to easer -->
	<a href="index.html#" title="Head back to top?">
		<div id="ease-scroll">
			<span id="scroll-top"></span>
		</div>
	</a>
	
</div> <!-- close of id="header" --><div id="main" class="group">
	<div id="posts-container">		
		
<div class="eachpost group">
	<div class="entry-header group">
				
				
		<h1 class="entry-title format-standard">
			How to Communicate with the DAC-ADC			 
		</h1>
		
				
			</div>
	
	<div id="post-287" class="group post-287 page type-page status-publish hentry">				
		<p>In this page I will explain the syntax to communicate with the DAC-ADC.</p>
<p>Every command sent to the DAC-ADC should be a string. Every string should start with the operation to execute and end with the character that determines the end of the string, in this case &#8216;\r&#8217;.</p>
<p>Main Syntax:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >(COMMA)</th>
<th >DATA (VARIES WITH THE OPERATION) </th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody></tbody></table></div>
<p>The DAC-ADC AD5764-AD7734 can execute eight operations: &#8220;*IDN?&#8221;, &#8220;*RDY?&#8221;, &#8220;SET&#8221;, &#8220;GET_ADC&#8221;, &#8220;RAMP1&#8243;, &#8220;RAMP2&#8243;, &#8220;BUFFER_RAMP&#8221;, &#8220;CONVERT_TIME&#8221;. When the DAC-ADC does not recognized the operation, it return the string &#8220;NOP&#8221;, which stands for &#8220;No Operation&#8221;. Below I will explain each operation:</p>
<p>&nbsp;</p>
<h2>*IDN? and *RDY?</h2>
<p>&nbsp;</p>
<p>IDN? returns the string &#8220;DAC-ADC_AD5764-AD7734&#8243;.</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION STRING</th>
<th > (END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >*IDN?</td>
<td > \r</td>
</tr>
</tbody></table></div>
<p>RDY? returns the string &#8220;READY&#8221; when the DAC-ADC is ready for a new operation.</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION STRING</th>
<th > (END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >RDY?</td>
<td > \r</td>
</tr>
</tbody></table></div>
<p>&nbsp;</p>
<h2>SET</h2>
<p>SET sets a voltage to a channel and returns the channel and the voltage it set.</p>
<p>Example:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >CHANNEL</th>
<th >,</th>
<th >VOLTAGE</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >SET</td>
<td >,</td>
<td >5</td>
<td >,</td>
<td >3.6</td>
<td >\r</td>
</tr>
</tbody></table></div>
<ul>
<li>The string above sets the channel 5 to 3.6 volts.</li>
</ul>
<p>&nbsp;</p>
<h2>GET_ADC</h2>
<p>GET_ADC returns the voltage read by an input channel. Do not confuse with GET_DAC; GET_DAC has not been implemented yet.</p>
<p>Example:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >CHANNEL</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >GET_ADC</td>
<td >,</td>
<td >5</td>
<td >\r</td>
</tr>
</tbody></table></div>
<p>&nbsp;</p>
<h2>RAMP1</h2>
<p>RAMP1 ramps one channel from an initial voltage to a final voltage within an specified number steps and a delay (microseconds) between steps. When the execution finishes, it returns &#8220;RAMP_FINISHED&#8221;.<br />
Example:<br />
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >CHANNEL</th>
<th >,</th>
<th >INITIAL VOLTAGE</th>
<th >,</th>
<th >FINAL VOLTAGE</th>
<th >,</th>
<th ># OF STEPS</th>
<th >,</th>
<th >DELAY (MICROSECONDS)</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >RAMP1</td>
<td >,</td>
<td >2</td>
<td >,</td>
<td >-8.5</td>
<td >,</td>
<td >4.8</td>
<td >,</td>
<td >1000</td>
<td >,</td>
<td >30</td>
<td >\r</td>
</tr>
</tbody></table></div></p>
<p>&nbsp;</p>
<h2>RAMP2</h2>
<p>RAMP2 is the same as RAMP1 with the difference that RAMP2 ramps two channels. The # of steps is the total number of steps, not the number of steps per channel. Example:<br />
Example:<br />
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >CHANNEL 1</th>
<th >,</th>
<th >CHANNEL 2</th>
<th >,</th>
<th >INITIAL VOLTAGE 1</th>
<th >,</th>
<th >INITIAL VOLTAGE 2</th>
<th >,</th>
<th >FINAL VOLTAGE 1</th>
<th >,</th>
<th >FINAL VOLTAGE 2</th>
<th >,</th>
<th ># OF STEPS</th>
<th >,</th>
<th >DELAY (MICROSECONDS)</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >RAMP2</td>
<td >,</td>
<td >2</td>
<td >,</td>
<td >3</td>
<td >,</td>
<td >-8.5</td>
<td >,</td>
<td >-5.2</td>
<td >,</td>
<td >4.8</td>
<td >,</td>
<td >7.6</td>
<td >,</td>
<td >1000</td>
<td >,</td>
<td >30</td>
<td >\r</td>
</tr>
</tbody></table></div></p>
<p>Timeline of the example above:<br />
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<tbody>
<tr><td ><strong>STEP 1</strong></td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 2</strong></td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
</tr>

<tr><td >..</td>
<td >..</td>
<td >..</td>
</tr>

<tr><td ><strong>STEP 1000</strong></td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>
</tbody></table></div></p>
<p>&nbsp;</p>
<h2>BUFFER_RAMP</h2>
<p>BUFFER_RAMP ramps the specified output channels from the initial voltages to the final voltages and reads the specified input channels in a synchronized manner. It does it within an specified number steps and a delay (microseconds) between the update of the last output channel and the reading of the first input channel.</p>
<p>Examples 1:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >DAC CHANNELS</th>
<th >,</th>
<th >ADC CHANNELS</th>
<th >,</th>
<th >INITIAL VOLTAGES</th>
<th >,</th>
<th >FINAL VOLTAGES</th>
<th >,</th>
<th ># OF STEPS</th>
<th >,</th>
<th >DELAY (MICROSECONDS)</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >BUFFER_RAMP</td>
<td >,</td>
<td >023</td>
<td >,</td>
<td >01</td>
<td >,</td>
<td >-9.2,-5.2,2.2</td>
<td >,</td>
<td >4.8,7.6,8.5</td>
<td >,</td>
<td >1000</td>
<td >,</td>
<td >30</td>
<td >\r</td>
</tr>
</tbody></table></div>
<p>Timeline of the example above:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<tbody>
<tr><td ><strong>STEP 1</strong></td>
<td >UPDATES OUTPUT CHANNEL 0</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 1</strong></td>
<td >READS INPUT CHANNEL 0</td>
<td >READS INPUT CHANNEL 1</td>
<td ></td>
</tr>

<tr><td ><strong>STEP 2</strong></td>
<td >UPDATES OUTPUT CHANNEL 0</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 2</strong></td>
<td >READS INPUT CHANNEL 0</td>
<td >READS INPUT CHANNEL 1</td>
<td ></td>
</tr>

<tr><td >..</td>
<td >..</td>
<td >..</td>
<td ></td>
</tr>

<tr><td ><strong>STEP 1000</strong></td>
<td >UPDATES OUTPUT CHANNEL 0</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td >UPDATES OUTPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 1000</strong></td>
<td >READS INPUT CHANNEL 0</td>
<td >READS INPUT CHANNEL 1</td>
<td ></td>
</tr>
</tbody></table></div>
<p>Examples 2:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >DAC CHANNELS</th>
<th >,</th>
<th >ADC CHANNELS</th>
<th >,</th>
<th >INITIAL VOLTAGES</th>
<th >,</th>
<th >FINAL VOLTAGES</th>
<th >,</th>
<th ># OF STEPS</th>
<th >,</th>
<th >DELAY (MICROSECONDS)</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >BUFFER_RAMP</td>
<td >,</td>
<td >12</td>
<td >,</td>
<td >123</td>
<td >,</td>
<td >-4.2,6.6</td>
<td >,</td>
<td >2.3,7.5</td>
<td >,</td>
<td >100</td>
<td >,</td>
<td >50</td>
<td >\r"</td>
</tr>
</tbody></table></div>
<p>Timeline of the example above:</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<tbody>
<tr><td ><strong>STEP 1</strong></td>
<td >UPDATES OUTPUT CHANNEL 1</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td ></td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 1</strong></td>
<td >READS INPUT CHANNEL 1</td>
<td >READS INPUT CHANNEL 2</td>
<td >READS INPUT CHANNEL 3</td>
</tr>

<tr><td ><strong>STEP 2</strong></td>
<td >UPDATES OUTPUT CHANNEL 1</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td ></td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 2</strong></td>
<td >READS INPUT CHANNEL 1</td>
<td >READS INPUT CHANNEL 2</td>
<td >READS INPUT CHANNEL 3</td>
</tr>

<tr><td >..</td>
<td >..</td>
<td >..</td>
<td ></td>
</tr>

<tr><td ><strong>STEP 100</strong></td>
<td >UPDATES OUTPUT CHANNEL 1</td>
<td >UPDATES OUTPUT CHANNEL 2</td>
<td ></td>
</tr>

<tr><td ><strong>DELAY</strong></td>
<td ></td>
<td ></td>
<td ></td>
</tr>

<tr><td ><strong>STEP 100</strong></td>
<td >READS INPUT CHANNEL 1</td>
<td >READS INPUT CHANNEL 2</td>
<td >READS INPUT CHANNEL 3</td>
</tr>
</tbody></table></div>
<ul>
<li>Do not write commas between channels.</li>
</ul>
<h2></h2>
<p>&nbsp;</p>
<h2>CONVERT_TIME</h2>
<p>CONVERT_TIME sets the conversion time for the ADC. The conversion time is the time the ADC takes to convert the analog signal to a digital signal. Keep in mind that the smaller the conversion time, the more noise your measurements will have. Maximum conversion time: 2686 microseconds. Minimum conversion time: 82 microseconds.</p>
<div class="table-responsive"><table  style="width:700px; "  class="easy-table easy-table-default " >
<thead>
<tr><th >OPERATION</th>
<th >,</th>
<th >CONVERSION TIME (MICROSECONDS)</th>
<th >(END OF STRING)</th>
</tr>
</thead>
<tbody>
<tr><td >CONVERT_TIME</td>
<td >,</td>
<td >500</td>
<td >\r</td>
</tr>
</tbody></table></div>
			</div>
	
					
		
								
</div>
	<div id="comments">
	
	
	
</div><!-- #comments -->
	</div>	<!-- closing of posts-container> -->


<div id="sidebar-primary" class="widget-area group">
<div id="nav_menu-3" class="widget widget_nav_menu"><div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-135" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-135"><a href="../../index.html">What is openDACs?</a></li>
<li id="menu-item-136" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-136"><a href="../../seekat-homepage/index.html">Seekat(Arduino UNO) Homepage</a></li>
<li id="menu-item-252" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-252"><a href="../../seekat-with-arduino-due-homepage-2/index.html">Seekat(Arduino Due) Homepage</a></li>
<li id="menu-item-318" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-318"><a href="../index.html">DAC-ADC Homepage</a></li>
<li id="menu-item-359" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-359"><a href="../../seekat_quad_ad5780/index.html">Seekat Quad-AD5780</a></li>
<li id="menu-item-187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-187"><a href="../../about-us/index.html">About us</a></li>
<li id="menu-item-207" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-207"><a href="../../feedback-tell-us-what-we-should-do-next/index.html">Feedback &#8211; Tell us what we should do next!</a></li>
</ul></div></div></div></div> <!-- Close of id="main" -->


<div id="footer">

	
<div id="site-generator" class="group">
	<div id="theme-author-credits">
		Proudly powered by  
		   <a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">
		      WordPress		   </a>
		<span style="padding:0 5px;">|</span>
		Theme <a href="http://mimbolove.wordpress.com" title="Blog(=mimba - in Kannada) + Love(=Olavu - in Kannada) = MimboLove" ><span id="g-theme">Mimbolove</span></a>		
	</div>
	<div id="blog-author-credits">
		<a href="../../index.html">
			openDACs	
		</a><span> : </span>
	</div>
</div>
</div>
<script type='text/javascript' src='../../wp-includes/js/comment-reply.min-ver=4.2.9.js'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201636'></script>
<script type='text/javascript' src='../../wp-content/themes/mimbolove/js/mimbolove-ver=4.2.9.js'></script>

	<script src="http://stats.wp.com/e-201636.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:3.1.2',blog:'72777345',post:'287',tz:'-4'});
	var load_cmc = function(){linktracker_init(72777345,287,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>
</div> <!-- Close of id="mimba"> -->
</body>
</html>



<!-- Dynamic page generated in 0.397 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-05 17:49:07 -->

<!-- super cache -->